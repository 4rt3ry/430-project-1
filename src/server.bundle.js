(()=>{"use strict";var e={642:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.headComments=t.getComments=t.postComment=void 0;var n=a(108),o=[];t.postComment=function(e,t){if("POST"!==e.method)return"HEAD"===e.method?(0,n.head400)(e,t):(0,n.get400)(e,t);var a="";e.on("data",(function(e){a+=e})),e.on("end",(function(){var e=201,i="comment success",s=JSON.parse(a).comment;void 0!==s.author&&void 0!==s.date&&void 0!==s.text||(e=400,i="Comment must contain properties {author, date, text}"),o.push(s),t.writeHead(e,{"Content-Type":"application/json"}),t.write((0,n.createMessage)(i)),t.end()}))},t.getComments=function(e,t){t.writeHead(200,{"Content-Type":"application/json"}),t.write(JSON.stringify(o)),t.end()},t.headComments=function(e,t){t.writeHead(200,{"Content-Type":"application/json"}),t.end()}},349:function(e,t,a){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.loadImage=t.loadContent=void 0;var o=n(a(896)),i=function(e){return o.default.readFileSync("".concat(__dirname,"/").concat(e))},s={"/":i("../hosted/index.html"),"/index.html":i("../hosted/index.html"),"/test-client.html":i("../hosted/test-client.html"),"/styles/default-styles.css":i("../hosted/styles/default-styles.css"),"/client.bundle.js":i("../hosted/client.bundle.js"),"/test-client.bundle.js":i("../hosted/test-client.bundle.js"),"/media/background_1.png":i("../media/background_1.png"),default:""};t.loadImage=function(e){return function(t,a,n){var o,s;try{s=i(".."+(null!==(o=n.pathname)&&void 0!==o?o:""))}catch(e){return a.writeHead(404),void a.end()}a.writeHead(200,{"Content-Type":e}),a.write(s),a.end()}},t.loadContent=function(e){return function(t,a,n){var o=s[n.pathname||"default"]||"";a.writeHead(200,{"Content-Type":e}),a.write(o),a.end()}}},108:function(e,t,a){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createMessage=t.headGTFOData=t.getGTFOData=t.head500=t.head404=t.head400=t.get500=t.get404=t.get400=void 0;var o=n(a(896)),i=function(e){return o.default.readFileSync("".concat(__dirname,"/").concat(e))},s={"/api/weapons":i("../data/weapons.json"),"/api/main_weapon_stats":i("../data/main_weapon_stats.json"),"/api/special_weapon_stats":i("../data/special_weapon_stats.json"),"/api/categories":i("../data/categories.json"),"/api/enemies":i("../data/enemies.json"),"/api/enemy_stats":i("../data/enemy_stats.json")},d=function(e,t){void 0===t&&(t="");var a={message:e};return t&&t.length>0&&(a.id=t),JSON.stringify(a)};t.createMessage=d,t.get400=function(e,t){var a=d("Bad Request","badRequest");t.writeHead(400,{"Content-Type":"application/json"}),t.write(a),t.end()};var r=function(e,t){var a=d("404 Page not found","pageNotFound");t.writeHead(404,{"Content-Type":"application/json"}),t.write(a),t.end()};t.get404=r;var p=function(e,t){var a=d("Internal Server Error","internalServerError");t.writeHead(500,{"Content-Type":"application/json"}),t.write(a),t.end()};t.get500=p,t.head400=function(e,t){t.writeHead(400,{"Content-Type":"application/json"}),t.end()};var l=function(e,t){t.writeHead(404,{"Content-Type":"application/json"}),t.end()};t.head404=l;var c=function(e,t){t.writeHead(500,{"Content-Type":"application/json"}),t.end()};t.head500=c,t.getGTFOData=function(e,t,a){if(!a.pathname)return p(0,t);var n=s[a.pathname];if(!n)return r(0,t);t.writeHead(200,{"Content-Type":"application/json"}),t.write(n),t.end()},t.headGTFOData=function(e,t,a){return a.pathname?s[a.pathname]?(t.writeHead(200,{"Content-Type":"application/json"}),void t.end()):l(0,t):c(0,t)}},997:function(e,t,a){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(a(611)),i=a(349),s=a(108),d=a(642),r=process.env.PORT||process.env.NODE_PORT||3e3,p=[".png",".jpg",".webp"],l={GET:{"/":(0,i.loadContent)("text/html"),"/index.html":(0,i.loadContent)("text/html"),"/test-client.html":(0,i.loadContent)("text/html"),"/styles/default-styles.css":(0,i.loadContent)("text/css"),"/client.bundle.js":(0,i.loadContent)("text/javascript"),"/test-client.bundle.js":(0,i.loadContent)("text/javascript"),"/comments":d.getComments,"/api/weapons":s.getGTFOData,"/api/main_weapon_stats":s.getGTFOData,"/api/special_weapon_stats":s.getGTFOData,"/api/categories":s.getGTFOData,"/api/enemies":s.getGTFOData,"/api/enemy_stats":s.getGTFOData,default:s.get404},POST:{"/add_comment":d.postComment,default:s.get404},HEAD:{"/api/weapons":s.headGTFOData,"/api/main_weapon_stats":s.headGTFOData,"/api/special_weapon_stats":s.headGTFOData,"/api/categories":s.headGTFOData,"/api/enemies":s.headGTFOData,"/api/enemy_stats":s.headGTFOData,comments:d.headComments,default:s.head404},default:{default:s.get404}};o.default.createServer((function(e,t){var a,n,o=new URL(e.url||"/404","http://".concat(e.headers.host)),s=l[e.method||"GET"],d=void 0;s&&(d=s[o.pathname]),p.some((function(e){return o.pathname.endsWith(e)}))&&(d=(0,i.loadImage)("image/png"));var r={pathname:o.pathname,method:e.method};o.searchParams.forEach((function(e,t){r[t]=e})),d?d(e,t,r):null===(n=null===(a=l.default)||void 0===a?void 0:a.default)||void 0===n||n.call(a,e,t,r)})).listen(r,(function(){console.log("Listening to 127.0.0.1:".concat(r))}))},896:e=>{e.exports=require("fs")},611:e=>{e.exports=require("http")}},t={};!function a(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,a),i.exports}(997)})();